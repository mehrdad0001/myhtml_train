<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Satan's puzzle</title>
    <style>
        body {
            font-family: "Avenir Next";
            margin: 0px;
        }

        .header {
            height: 100px;
            background-color: #052d37;
            color: white;
        }

        .header-logo {
            height: 80px;
            float: left;
            padding: 10px;
        }


        .header-link-items {
            padding: 0px 20px;
            float: right;
            list-style: none;
            font-family: 'Vollkorn', serif;
        }

        .header-title {
            float: left;
            margin-left: 10px;
            color: #d0c297;
            font-size: 30px;
            font-family: 'Vollkorn', serif;
            padding: 25px;
        }

        .main {
            padding: 10px 100px;
        }

        .main-section {
            padding-bottom: 30px;
        }

        .main-section-title {
            font-size: 25px;
            border-bottom: 2px solid #dee7ec;
            padding-bottom: 5px;

        }

        .main-section1-board {
            height: var(--card-height);
            width: var(--card-height);
            padding-left: 10px;
            padding-right: 10px;
            padding-top: 10px;
            padding-bottom: 10px;
            background-color: #052d37;
            border: 2px solid black;
        }

        .main-section1-board-cell {
            width: calc(var(--card-height)/6.1);
            height: calc(var(--card-height)/6.1);
            margin-bottom: 1px;
            margin-right: 1px;
            border: 2px solid black;
            background-color: #D5DAFF;
            color: 052d37;
            font-size: 35pt;
            text-align: center;
            border-radius: 10px;
        }

        .main-section1-board-nocell {
            /* width: 100px;
			height: 100px;
			margin-bottom: 5px;
			margin-right: 5px;
			border: 2px #fff;
			background-color: #fff;
			color: #052d37;
			font-size: 50pt;
			text-align: center; */
            width: calc(var(--card-height)/6.1);
            height: calc(var(--card-height)/6.1);
            margin-bottom: 1px;
            margin-right: 1px;
            border: 2px solid #052d37;
            background-color: #052d37;
            color: #052d37;
            font-size: 35pt;
            text-align: center;
            border-radius: 10px;
        }

        .main-section1-count {
            width: var(--card-height);
            height: 130px;
            border: 2px solid rgb(255, 0, 0);
            font-size: 18;
            margin-top: 20px;
            margin-left: 0px;
            position: absolute;
            bottom: 0;
            background: rgb(218, 110, 10);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .main-section1-board-shuffle {
            height: 60%;
            width: 60%;
            font-size: 18px;
            margin-left: 20px;
            margin-bottom: 20px;
            background-color: #052d37;
            color: #d0c297;
            font-size: 30px;
            font-family: 'Vollkorn', serif;
            border-radius: 10px;
        }

        .main-section1-board-count {
            padding: 20px;
            color: #b6f0ff;
            font-size: 30px;
            font-family: 'Vollkorn', serif;
        }

        input {
            width: 100px;
            margin-right: 30px;
            margin-bottom: 0px;
            padding: 5px;
            font-size: 18px;
            border: 1px solid #dee7ec;
        }

        .main-section2-board {
            width: 161px;
            height: 160px;
            padding: 6px;
            border: 2px solid black;
            background-color: white;
        }

        .main-section2-board-cell {
            width: 50px;
            height: 50px;
            margin-bottom: 5px;
            border: 2px solid black;
            background-color: galy;
            color: black;
            font-size: 30pt;
            text-align: center;
            border-radius: 5px;
        }

        .main-section2-board-nocell {
            width: 50px;
            height: 50px;
            margin-bottom: 5px;
            border: 2px solid white;
            background-color: white;
            color: white;
            font-size: 30pt;
            text-align: center;
        }

        .footer {
            margin: 0px;
            padding: 0px;
            height: 100px;
            background-color: #052d37;
            color: white;
        }
         @property --rotate {
        syntax: "<angle>";
        initial-value: 132deg;
        inherits: false;
        } 

        :root {
        --card-height: 60vh;
        --card-width: calc(var(--card-height));
        }

        .card {
            background: #4dca49; 
            width: var(--card-width); 
            height: var(--card-height); 
            padding: 3px; 
            position: relative; 
            border-radius: 6px; 
            justify-content: center; 
            align-items: center; 
            text-align: center; 
            /* display: flex; */
            font-size: 1.5em;
            color: rgb(88 199 250 / 0%);
            cursor: pointer;
            font-family: cursive;
        }

        .card:hover {
        color: rgb(88 199 250 / 100%);
        transition: color 1s;
        }
        .card:hover:before, .card:hover:after {
        animation: none;
        opacity: 0;
        }


        .card::before {
        content: "";
        width: 104%;
        height: 102%;
        border-radius: 8px;
        background-image: linear-gradient(
            var(--rotate)
            , #5ddcff, #3c67e3 43%, #4e00c2);
            position: absolute;
            z-index: -1;
            top: -1%;
            left: -2%;
            animation: spin 2.5s linear infinite;
        }

        .card::after {
        position: absolute;
        content: "";
        top: calc(var(--card-height) / 6);
        left: 0;
        right: 0;
        z-index: -1;
        height: 100%;
        width: 100%;
        margin: 0 auto;
        transform: scale(0.8);
        filter: blur(calc(var(--card-height) / 6));
        background-image: linear-gradient(
            var(--rotate)
            , #5ddcff, #3c67e3 43%, #4e00c2);
            opacity: 1;
        transition: opacity .5s;
        animation: spin 2.5s linear infinite;
        }

        .mainpane {
            background: #c11c1c;
            /* padding: 10px; */
            height: 100vh;
            width: 100%;
        }

        .gamepane {
            background: rgb(219, 231, 54);
            width: 90%;
            height: 80vh;   
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            align-items: center;
            justify-content: center;

        }
        .test{
            background: #000;
            height: 300px;
            /* --test-height = 100%; */
            width: 300px;

        }


        .myheader{
            margin-bottom: 10px;
            background: rgb(87, 225, 18);  
            height: 10%;
            width: 100%;
            position: absolute;
            top: 0%;
        }

        .myfooter{
            margin-top: 10px;
            background: rgb(54, 107, 27);
            height: 10%;
            width: 100%;
            position: absolute;
            bottom: 0%;

        }
    </style>
    <script>
        var list = ['1', '3', '2', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '.'];
        console.log(list)
        // console.log(str.indexOf('8'))
        // console.log(str.indexOf('.'))
        // var str = '12345678.'
        var count = 0;
        var state = new Boolean(false);
        function printBoard() {
            var HTML = "";
            for (var i = 0; i < 36; i++)
                if (list[i] == '.')
                    HTML += "<button class='main-section1-board-nocell' type='submit' disabled>" + "?" + "</button>";
                else
                    HTML += "<button class='main-section1-board-cell' onClick=slide(" + list[i] + ");>" + list[i] + "</button>";
            document.getElementById('board').innerHTML = HTML;
        }
        function printCount() {
            var HTML = "";
            HTML += "<button class='main-section1-board-shuffle' onClick=shuffle();>shuffle</button>";
            HTML += "<br><a class='main-section1-board-count'>moves: " + count + "</a>";
            document.getElementById('count').innerHTML = HTML;
        }
        function complete() {
            var HTML = "";
            for (var i = 0; i < 36; i++)
                if (list[i] == '.')
                    HTML += "<button class='main-section1-board-nocell' type='submit' disabled>" + "?" + "</button>";
                else
                    HTML += "<button class='main-section1-board-cell' onClick=slide(" + list[i] + "); type='submit' disabled>" + list[i] + "</button>";
            document.getElementById('board').innerHTML = HTML;
            HTML = "";
            HTML += "<button class='main-section1-board-shuffle' onClick=shuffle();>shuffle</button><br>";
            HTML += "<a class='main-section1-board-count'>GOOD, you moved " + count + " times :)</a>";
            document.getElementById('count').innerHTML = HTML;
        }
        function slide(x) {
            var num1 = list.indexOf('.'), num2 = list.indexOf("" + x);
            if ((Math.abs(num1 - num2) == 1 || Math.abs(num1 - num2) == 6) && (1 <= x)) {

                test = list.slice(0, num1).concat(["" + x]).concat(list.slice(num1 + 1))


                // // list = list.slice(0, num1) + x + list.slice(num1 + 1);
                // list = list.slice(0, num1).concat([""+x]).concat(list.slice(num1 + 1))
                // // console.log(str)
                // // list = list.slice(0, num2) + '.' + list.slice(num2 + 1);
                // list = list.slice(0, num2).concat(['.']).concat(list.slice(num2 + 2))
                // // console.log(str)
                temp = list[num1];
                list[num1] = list[num2];
                list[num2] = temp
                console.log("test:", test)
                if (state) {
                    count++;
                    printCount();
                    printBoard();
                    if (list == "12345678.")
                        complete();
                } else {
                    //PCのとき
                }
            }
        }
        function shuffle() {
            state = false;
            for (var i = 0; i < 3567; i++) {
                slide(Math.floor(Math.random() * 36));
                console.log(Math.floor(Math.random() * 9));
            }
            count = 0;
            printBoard();
            printCount();
            state = true;
        }
    </script>
</head>

<body>

    

    <div class="mainpane">
        <div class="myheader"></div>
        <div class="myfooter"></div>
        <div class="gamepane">
            <!-- <div class="card"> -->
                <div class="main">
                    <div class="main-section" >
                        <div id="board" class="card main-section1-board">
                        </div>
                    </div>
                </div>
            <!-- </div> -->
            <div class="main-section1-count" id="count">
            </div>
        </div>
    </div>

    <script>shuffle();</script>
</body>

</html>
